{% set flash_statuses = ['default', 'dark', 'success', 'danger', 'info', 'warning'] %}

{% for status in flash_statuses %}
    {% if flash[status] is not empty %}
        {% if flash[status] is iterable %}
            {% for message in flash[status] %}
                <div class="alert alert-{{ status }} alert-dismissable">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    {{ message }}
                </div>
            {% endfor %}
        {% else %}
            <div class="alert alert-{{ status }} alert-dismissable">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                    {{ flash[status] }}
                </div>
        {% endif %}
    {% endif %}
{% endfor %}